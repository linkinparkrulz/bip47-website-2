<!-- ============================================
     ENHANCED PAYMENT CODE VALIDATOR
     Replace the existing validator section in lab.html with this
     ============================================ -->

<!-- Payment Code Validator - Full Width -->
<div class="tool-panel scenario-panel" style="margin-top: 1.5rem;">
    <div class="tool-header">
        <span class="tool-icon">ğŸ”¬</span>
        <span class="tool-title">Payment Code Validator & Analyzer</span>
    </div>
    
    <div class="validator-intro">
        Analyze BIP47 payment codes byte-by-byte. See the structure, validate components, and understand what makes a payment code valid.
    </div>

    <div class="input-group">
        <label>Payment Code to Validate</label>
        <input type="text" id="validate-input" 
               placeholder="PM8TJYp8zHvhimVNRjUcEuULfmvmUML6YTbTSnU69MYy93AzsXELFLaVjpxc5mxDex7R8ttgtL1tGAt2TshZAoFeB5zn4c9nRo4oZpmuyuo4FTpUrd"
               value="PM8TJYp8zHvhimVNRjUcEuULfmvmUML6YTbTSnU69MYy93AzsXELFLaVjpxc5mxDex7R8ttgtL1tGAt2TshZAoFeB5zn4c9nRo4oZpmuyuo4FTpUrd">
    </div>
    
    <button id="validate-btn" onclick="validatePaymentCode()">
        ANALYZE PAYMENT CODE
    </button>

    <div id="validate-error" class="error-message" style="display: none;"></div>

    <!-- Validation Results -->
    <div id="validate-output" style="display: none;">
        <!-- Quick Status -->
        <div id="validate-status" class="validation-status"></div>

        <!-- Byte Breakdown -->
        <div id="byte-breakdown" class="byte-breakdown-section">
            <div class="section-title">ğŸ“Š Byte Structure Analysis (80 bytes total)</div>
            <div id="byte-grid" class="byte-grid"></div>
            <div class="byte-legend">
                <strong>Legend:</strong> 
                <span style="color: #ff6b9d;">â– </span> Version (1 byte) 
                <span style="color: #ffd93d;">â– </span> Features (1 byte) 
                <span style="color: #6bcf7f;">â– </span> Sign (1 byte) 
                <span style="color: #4ecdc4;">â– </span> Public Key (33 bytes) 
                <span style="color: #c77dff;">â– </span> Chain Code (32 bytes) 
                <span style="color: #ff9b85;">â– </span> Checksum (4 bytes)
            </div>
        </div>

        <!-- Component Details -->
        <div id="component-details" class="component-details-section">
            <div class="section-title">ğŸ” Component Details</div>
            <div id="components-grid" class="components-grid"></div>
        </div>

        <!-- Derived Information -->
        <div id="derived-info" class="derived-info-section">
            <div class="section-title">ğŸ”‘ Derived Information</div>
            <div id="derived-grid" class="derived-grid"></div>
        </div>

        <!-- Technical Checks -->
        <div id="technical-checks" class="technical-checks-section">
            <div class="section-title">âœ“ Technical Validation</div>
            <div id="checks-grid" class="validation-grid"></div>
        </div>
    </div>
</div>
